%% Wheel subsystem
par.VEH.re    = 0.3160;                                                       % Wheel radius [m]
par.VEH.Cd    = 0.36;                                                         % Aerodynamic coefficient [Ns^2/m^2]
par.VEH.S_eff = 2.5813;                                                       % Vehicle frontal area [m^2]
par.VEH.g = 9.81;
par.VEH.eq_i = 0.1;
par.VEH.rho = 1.18;
par.VEH.mu = 0.009;
par.VEH.Mf = 0.05;

%% ENG subsystem
par.ENG.we_list     = [104.72 183.26 235.62 314.16 418.88 523.6 670.21];    % Rotation speed [rad/s] used for linear interpolation
par.ENG.Te0_list    = [12 12.36 13.37 15.92 20.46 26.64 37.91];             % Drag torque [Nm] (as indexed by we_list)                             

par.ENG.we_max      = [52.36 78.54 104.72 129.8525 157.08 184.307 209.44 ... 
                        261.8 314.16 366.52 418.88 471.24 523.6 576 628.32];

par.ENG.Tmax        = [89.5 97 104.5 111.7 118.5 124.4 130.6 133.1 135.1 ...
                        141.1 143.2 141.1 140.2 138.2 130];


par.ENG.BSFC.Throttle = [...                                                % Throttle [-] (ratio of maximum torque) used for BSFC map
                       0.000 0.038 0.077 0.115 0.154 0.192 0.231 ...       
                       0.269 0.308 0.346 0.385 0.423 0.462 0.500 ... 
                       0.538 0.577 0.615 0.654 0.692 0.731 0.769 ...
                       0.808 0.846 0.885 0.923 0.962 1];                       
par.ENG.BSFC.we     = [83.7758  109.7463  135.6121  161.5826  ...           % Rotational speed [rad/s] used for BSFC map
                        187.4484  213.4189  239.3894  265.2551  ...
                        291.2256  317.1961  343.0619  369.0324  ...
                        394.8982  420.8687  446.8392  472.7050  ...
                        498.6755  524.6460  550.5118  576.4823  ...
                         602.3480  628.3185];
% BSFC map [g/kwh]                  
par.ENG.BSFC.map    = [0 324.5 618.2 738.1 744.7 688.9 597 494.2 406.9 360.6 341.2 328.7 320.5 314.4 308.4 301.4 294.3 287.8 282.8 279.7 277.3 275.6 274.6 274.5 276.2 281.2 290.5;
                       0 263 410.6 483.7 502.3 473.2 427.2 382 342 320.4 306.6 299.4 293.6 288 286.2 282.4 279.1 275.2 270.2 269.3 268.8 267.6 264.7 263.8 267.1 283.6 307.3;
                       0 153.8 317.8 448.8 501.4 488.9 434.1 372.9 328.3 307.8 295.3 289.3 285.3 277.8 273.1 269.8 267.6 265.3 261.5 259.6 258.1 257.5 257 257 260 270.4 292.2;
                       0 155.6 314.8 442 492.7 477.2 414 355.2 322.1 315 306.9 295.9 285.1 277 272.6 268.6 265.2 262 258.1 256 254.6 253.7 253.8 254 254.3 262.4 289.3;
                       0 141.6 288.4 400.4  432.4 417.1 388.3 352.9 320.4 301.3 290.7 283.9 276.8 270.4 265.7 262.6 259.7 257.2 255.4 253.8 252.3 250.4 247.2 250.5 254.6 263.1 280.1;
                       0 131.1 265.1 373.7 427.4 426.2 395.5 350.5 312.8 295.9 286.1 279.3 272.8 267.1 262.7 258.9 255.5 253 251.4 249.5 248.9 247.4 245.4 244.2 248.2 264.8 285.6;
                       0 138.7 276.8 385.7 429.2 414.6 379.8 338.9 309.1 295.5 286.8 280.1 272.9 266.9 262.3 258 254.2 252.5 250.5 248.3 246.7 245.7 244.2 244.5 251.5 265.2 282;
                       0 150.2 299.3 416.5 465.5 442.6 394.1 340.2 310.9 296.9 288.1 281.7 275.5 269.1 263.6 258.9 255.3 252.6 250.4 248.4 246.7 244.6 242.8 243.9 250.7 260.9 271.9;
                       0 152.6 312.7 428.1 459.2 430.7 382.9 334.4 313.8 303 292.1 281.5 273.5 267.6 262.7 258.4 254.4 251.2 248.6 246.7 244.6 242.2 240.2 240.3 243.2 250.3 274.3;
                       0 160.8 313.7 423 453.7 427.7 373.5 324.1 303.7 299.9 289.9 279.1 271.4 265.8 261.2 257.1 253.3 249.9 247 244.7 242.5 241 239.8 240.8 247.4 260.7 282.5;
                       0 194.5 374 476.1 473.5 429.9 371.9 326.8 305.8 291.7 285.5 278.8 272.2 265.6 259.9 256.4 255.2 250.1 246.4 245.1 243.1 241.6 241.8 245.3 251.8 264.8 286.4;
                       0 227.6 428.1 511 492.2 428.3 361.7 319.8 301.9 291.6 283.9 276.1 269.9 265.6 261.4 257.8 256.6 256.4 251.7 249.4 247.9 247.3 246.4 252.4 260.7 270.1 284.1;
                       0 263 490 569.5 531.4 439.4 357.2 320 303.7 296.3 289 280.3 274.1 268.3 264.5 262.8 262.5 260.9 260.4 260.9 259.8 258.3 259.6 263.9 269.9 277.4 284.5;
                       0 249.3 472.9 561.3 534 457.1 378.2 333.3 314.1 304.6 295.6 286.2 279.6 274.8 270.3 268.2 269.2 269.5 265.1 267.8 271 270.1 271.1 274.2 284.1 290.2 290.2;
                       0 231 439.3 538.8 522.9 458.6 383.5 336.4 316.5 305.6 298.4 289.6 282.3 276.8 273.1 272.1 271 269.1 269.3 272.2 277.1 280.2 280.7 282.2 284.7 288.9 294;
                       0 226.5 447.5 552.3 526.5 462.4 391.5 346.3 327.2 314.3 304.9 296.4 289.9 285.4 282.4 280 278.4 277.3 276.6 281.3 286.6 289.5 289.5 288.9 288.8 291.1 297.7;
                       0 256.2 488.9 596.9 560.6 464.8 389.1 346.9 330.9 323.3 313.8 304.5 298.5 293.7 288.5 286 285.4 285.2 284.4 285.5 287.7 289.9 290.7 291.2 292.4 295.8 303.3;
                       0 239 467.7 562.9 529.7 459.2 387.5 351 334.4 323.8 315.8 307.7 300.6 294.6 290.4 289.2 289.1 289.6 290.2 291 291.7 292.7 294.5 295.8 297.3 299.8 306.1;
                       0 263.1 490.7 593.6 560.1 470.8 386.1 354.2 336.8 327.1 319.7 312.6 306.1 300.7 296.9 295.6 295.9 296.8 296.9 296.8 297.9 299.9 302.8 305.8 309.1 312.3 317;
                       0 290.5 553.2 647.8 586.1 478 393.8 362.9 344.6 334 323.8 316 312.7 310.3 306.4 305.2 305 304.6 303.7 302.4 301.8 302.7 306 310.3 313.7 316.9 321.9;
                       0 342.1 622.3 689.8 621.6 514.5 416.1 371.2 350.2 342.4 336.9 331.3 326.6 321.8 318.2 315.6 314.5 314 313.7 312.6 311.7 312.4 315 318 321.6 325.9 332.4;
                       0 519.4 875.6 910.5 795.5 619.2 464 394.1 367.6 356.3 349.7 340.8 334.4 330.7 328.4 326.7 325.5 325 324.6 324.1 323.2 323.3 325.4 328.9 332.9 337.3 341.8];

                   
                   
                   
                  
par.ENG.BSFC.MyInf  = 1e6;                                                  % Fuel consumption [g/kwh]. Value to use when fuel is consumed, but is outside of the fuel map.
par.ENG.idle        = 0;                                                    % Idle fuel consumption [kg/s]
par.ENG.J           = 0.14;                                                 % Engine inertia
par.ENG.w_idle      = 83.77;                                                % Idle speed [rad/s]
par.ENG.fuel_density = 745;
par.ENG.lhv         = 42500000;                                             % Lower heating value fuel [J/kg]

%Gearbox subsystem
                                   
par.GB.rg   = [17.94 12.9704 8.6602 5.8067 4.1979 3.0207 2.184];            % Gear ratio's [-]
par.GB.eta  = 0.93;
par.GB.M_inp = 0:10:170;
par.GB.eff_LDS012345.table = [1,0.990,0.821,0.868,0.891,0.904,0.911,0.917,0.918,0.921,0.924,0.926,0.925,0.925,0.924,0.924,0.923,0.925];
par.GB.eff_LDS9_brake.table = [1,0.573,0.769,0.835,0.867,0.886,0.899,0.908,0.914,0.919,0.923,0.926,0.928,0.929,0.930,0.930,0.931,0.933];
par.GB.eff_LDS11.table = [1,0.642,0.808,0.863,0.890,0.906,0.916,0.924,0.928,0.932,0.936,0.938,0.939,0.940,0.941,0.941,0.942,0.943];
par.GB.eff_LDS13.table = [1,0.534,0.755,0.828,0.865,0.886,0.900,0.910,0.916,0.921,0.926,0.929,0.931,0.932,0.932,0.933,0.933,0.935];


%% Probable Vehicle Acceleration   (!!!Unused!!!, taken from NGO viet thesis)

       par.acc.a1 =       7.959;  %(-1445, 1461)
       par.acc.b1 =    0.004984; % (-1.108, 1.118)
       par.acc.c1 =       2.074;  %(-226, 230.1)
       par.acc.a2 =       4.825;  %(-1716, 1726)
       par.acc.b2 =     0.01067;  %(-1.132, 1.153)
       par.acc.c2 =       4.123; % (-213.8, 222)
       par.acc.a3 =      0.5874; % (-113.5, 114.6)
       par.acc.b3 =     0.02133;  %(-0.5355, 0.5782)
       par.acc.c3 =       5.213; % (-99.61, 110)

%__________________________________________________________________________

