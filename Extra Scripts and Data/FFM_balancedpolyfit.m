%% 
% close all; clc;
throttle_points = [0,0.05,0.1,0.15,0.2,0.25,0.3,0.35,0.4,0.45,0.5,0.6,0.7,0.8,0.9,0.95];

data.TCU.upshift.veh_spd=...
[6.7,7.1,7.5,7.9,8.4,8.9,9.55,10.3,12,16,20,22,23,23,24,24;
9.7,10.9,13.5,15,15.5,17,19.2,22,24,26,28,31,34,36.8,38.5,39;
19.25,20.5,22.35,24.1,26,28.1,30.3,33,35.5,38.3,41.5,47.8,53.7,59,64,66;
40.2,41.05,42,43.2,44.5,46,47.8,50,53,63,73.3,79,82.2,84,85.5,87;
50,51,53,55,58,61,64,69,74,82.5,90,103,110,116,120,122;
[50,51,53,55,58,61,64,69,74,82.5,90,103,110,116,120,122] + 50;
500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500;
500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500]';



data.TCU.downshift.veh_spd =  ...
[1,7.7,16.25,28.600,43.400,50.800,500,500;
1,7.7,16.25,28.600,43.400,51.800,500,500;
1,8,16.25,28.600,43.400,51.800,500,500;
1,8,16.25,28.600,43.400,54.900,500,500;
2,10,16.25,28.600,43.400,59.100,500,500;
2,10,18.25,28.600,45.500,63.200,500,500;
2,10,18.25,32.600,47.600,66.300,500,500;
2,10,23.500,32.600,47.600,68.400,500,500;
4,11,23.500,33.700,48.600,70.500,500,500;
6,11,23.500,35.700,48.600,70.500,500,500;
7.1000,12,27.500,35.700,49.600,72.600,500,500;
8,12,30.600,41.800,50.700,74.600,500,500;
11.200,16,37.700,46.900,65.100,89.100,500,500;
13.200,20,37.700,54.100,88.900,104,500,500;
15,24,37.7000,70,105.50,115,500,500;
15,30,40,70,105.5,120,500,500];




figure
hold on
grid minor

plot(data.TCU.upshift.veh_spd(:,1),throttle_points,'c-','Linewidth',2)
plot(data.TCU.upshift.veh_spd(:,2),throttle_points,'b-','Linewidth',2)
plot(data.TCU.upshift.veh_spd(:,3),throttle_points,'k-','Linewidth',2)
plot(data.TCU.upshift.veh_spd(:,4),throttle_points,'r-','Linewidth',2)
plot(data.TCU.upshift.veh_spd(:,5),throttle_points,'g-','Linewidth',2)
plot(data.TCU.upshift.veh_spd(:,6),throttle_points,'m-','Linewidth',2)

plot(data.TCU.downshift.veh_spd(:,1),throttle_points,'c--')
plot(data.TCU.downshift.veh_spd(:,2),throttle_points,'b--')
plot(data.TCU.downshift.veh_spd(:,3),throttle_points,'k--')
plot(data.TCU.downshift.veh_spd(:,4),throttle_points,'r--')
plot(data.TCU.downshift.veh_spd(:,5),throttle_points,'g--')
plot(data.TCU.downshift.veh_spd(:,6),throttle_points,'m--')

title('Gear ShiftMap Balanced');
xlabel('Velocity [km/h]');
ylabel('Throttle')
axis([0 150 0 1])

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%